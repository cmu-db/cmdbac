{% extends "crawler/base.html" %}

{% block main %}
<h1 class="page-header">Repositories</h1>


<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Full Name</th>
                <th>Type</th>
                <th>Result</th>
                <th>GitHub</th>
                <th>Download</th>
            </tr>
        </thead>
        <tbody>
                {% if attempts %}
                {% for attempt in attempts %}
                <tr>
                    <td><a href="{% url 'repository' attempt.repo.full_name %}">{{ attempt.repo.full_name }}</a></td>
                    <td>{{ attempt.repo.repo_type.repo_type }}</td>
                    <td>{{ attempt.result.result }}</td>
                    <td><a href="https://github.com/{{ attempt.repo.full_name }}">github</a></td>
                    <td><a href="https://api.github.com/repos/{{ attempt.repo.full_name }}/tarball">download</a></td>
                </tr>
                {% endfor %}
                {% endif %}
        </tbody>
    </table>
</div>

<div class="pagination">
    <span class="step-links">
        {% if attempts.has_previous %}
            <a href="?page={{ attempts.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ attempts.number }} of {{ attempts.paginator.num_pages }}.
        </span>

        {% if attempts.has_next %}
            <a href="?page={{ attempts.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>
{% endblock %}
